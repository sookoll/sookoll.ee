var map = L.map('map', { zoomControl:false }).setView([58.45, 25.05], 12);
L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png').addTo(map);





$(document).ready(function () {
    var e = $("#hamburger"),
        t = $("#dropdown");
    e.click(function () {
        t.slideToggle("fast")
    }), t.find("a").on("click", function () {
        $(t).slideToggle()
    }), hero = $("#row-hero"), header = $("#header"), clients = $("#clients"), projects = $("#projects"), projectsOffset = projects.offset(), clientsOffset = clients.offset(), contactOffset = $("#contact").offset(), mapCanvasOffset = $("#map-canvas").offset(), heightDifference = $(window).height() - (hero.outerHeight() + header.outerHeight() + clients.outerHeight()), $(window).scroll(function () {
        $(this).scrollTop() > projectsOffset.top ? ($(this).scrollTop() < mapCanvasOffset.top - 200 && (header.find(".active").removeClass("active"), header.find("[data-nav='projects']").addClass("active")), header.hasClass("default") && header.hide().removeClass("default").addClass("nav-fixed").fadeIn()) : (header.removeClass("nav-fixed").addClass("default"), header.find(".active").removeClass("active"), header.find("[data-nav='home']").addClass("active")), $(this).scrollTop() > mapCanvasOffset.top - 200 && (header.find(".active").removeClass("active"), header.find("[data-nav='contact']").addClass("active"))
    }), $("a").click(function () {
        $("html, body").stop().animate({
            scrollTop: $($.attr(this, "href")).offset().top
        }, 750);
        var e = $(this).attr("href");
        return e.indexOf("#contact") >= 0 && $("#field1").focus(), !1
    })
}), $(function () {
    var e, t, a = $(window).width() > 480 ? !0 : !1,
        n = {
            zoom: 13,
            center: new google.maps.LatLng(44.669009, -63.613228),
            scrollwheel: !1,
            draggable: a,
            styles: [{
                featureType: "poi",
                elementType: "all",
                stylers: [{
                    hue: "#000000"
                }, {
                    saturation: -100
                }, {
                    lightness: -100
                }, {
                    visibility: "off"
                }]
            }, {
                featureType: "poi",
                elementType: "all",
                stylers: [{
                    hue: "#000000"
                }, {
                    saturation: -100
                }, {
                    lightness: -100
                }, {
                    visibility: "off"
                }]
            }, {
                featureType: "administrative",
                elementType: "all",
                stylers: [{
                    hue: "#000000"
                }, {
                    saturation: 0
                }, {
                    lightness: -100
                }, {
                    visibility: "off"
                }]
            }, {
                featureType: "road",
                elementType: "labels",
                stylers: [{
                    hue: "#ffffff"
                }, {
                    saturation: -100
                }, {
                    lightness: 100
                }, {
                    visibility: "off"
                }]
            }, {
                featureType: "water",
                elementType: "labels",
                stylers: [{
                    hue: "#000000"
                }, {
                    saturation: -100
                }, {
                    lightness: -100
                }, {
                    visibility: "off"
                }]
            }, {
                featureType: "road.local",
                elementType: "all",
                stylers: [{
                    hue: "#ffffff"
                }, {
                    saturation: -100
                }, {
                    lightness: 100
                }, {
                    visibility: "on"
                }]
            }, {
                featureType: "water",
                elementType: "geometry",
                stylers: [{
                    hue: "#ffffff"
                }, {
                    saturation: -100
                }, {
                    lightness: 100
                }, {
                    visibility: "on"
                }]
            }, {
                featureType: "transit",
                elementType: "labels",
                stylers: [{
                    hue: "#000000"
                }, {
                    saturation: 0
                }, {
                    lightness: -100
                }, {
                    visibility: "off"
                }]
            }, {
                featureType: "landscape",
                elementType: "labels",
                stylers: [{
                    hue: "#000000"
                }, {
                    saturation: -100
                }, {
                    lightness: -100
                }, {
                    visibility: "off"
                }]
            }, {
                featureType: "road",
                elementType: "geometry",
                stylers: [{
                    hue: "#bbbbbb"
                }, {
                    saturation: -100
                }, {
                    lightness: 26
                }, {
                    visibility: "on"
                }]
            }, {
                featureType: "landscape",
                elementType: "geometry",
                stylers: [{
                    hue: "#dddddd"
                }, {
                    saturation: -100
                }, {
                    lightness: -3
                }, {
                    visibility: "on"
                }]
            }]
        },
        s = new google.maps.LatLngBounds,
        i = new google.maps.Map(document.getElementById("map-canvas"), n),
        o = (new google.maps.LatLng(52.939001, -66.914216), [["Halifax, NS", 44.669009, -63.613228]]),
        r = [],
        l = new google.maps.InfoWindow;
    for (t = 0; t < o.length; t++) {
        var f = new google.maps.LatLng(o[t][1], o[t][2]);
        s.extend(f), e = new google.maps.Marker({
            position: f,
            map: i,
            title: o[t][0],
            icon: "img/map-pin.png"
        }), google.maps.event.addListener(e, "click", function (e, t) {
            return function () {
                l.setContent(r[t][0]), l.open(i, e)
            }
        }(e, t))
    }
}), window.olark || function (e) {
    var t = window,
        a = document,
        n = "https:" == t.location.protocol ? "https:" : "http:",
        s = e.name,
        i = "load",
        o = function () {
            function r() {
                l.P(i), t[s](i)
            }
            t[s] = function () {
                (l.s = l.s || []).push(arguments)
            };
            for (var l = t[s]._ = {}, f = e.methods.length; f--;) ! function (e) {
                t[s][e] = function () {
                    t[s]("call", e, arguments)
                }
            }(e.methods[f]);
            l.l = e.loader, l.i = o, l.p = {
                0: +new Date
            }, l.P = function (e) {
                l.p[e] = new Date - l.p[0]
            }, t.addEventListener ? t.addEventListener(i, r, !1) : t.attachEvent("on" + i, r);
            var d = function () {
                function t(e) {
                    return e = "head", ["<", e, "></", e, "><", i, ' onload="var d=', g, ";d.getElementsByTagName('head')[0].", f, "(d.", c, "('script')).", p, "='", n, "//", l.l, "'", '"', "></", i, ">"].join("")
                }
                var i = "body",
                    o = a[i];
                if (!o) return setTimeout(d, 100);
                l.P(1);
                var r, f = "appendChild",
                    c = "createElement",
                    p = "src",
                    h = a[c]("div"),
                    u = h[f](a[c](s)),
                    m = a[c]("iframe"),
                    g = "document",
                    y = "domain";
                h.style.display = "none", o.insertBefore(h, o.firstChild).id = s, m.frameBorder = "0", m.id = s + "-loader", /MSIE[ ]+6/.test(navigator.userAgent) && (m.src = "javascript:false"), m.allowTransparency = "true", u[f](m);
                try {
                    m.contentWindow[g].open()
                } catch (v) {
                    e[y] = a[y], r = "javascript:var d=" + g + ".open();d.domain='" + a.domain + "';", m[p] = r + "void(0);"
                }
                try {
                    var w = m.contentWindow[g];
                    w.write(t()), w.close()
                } catch (T) {
                    m[p] = r + 'd.write("' + t().replace(/"/g, String.fromCharCode(92) + '"') + '");d.close();'
                }
                l.P(2)
            };
            d()
        };
    o()
}({
    loader: "static.olark.com/jsclient/loader0.js",
    name: "olark",
    methods: ["configure", "extend", "declare", "identify"]
}), olark.identify("6253-735-10-9790");